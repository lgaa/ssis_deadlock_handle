<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="4/14/2015 10:50:42 AM"
  DTS:CreationName="SSIS.Package.3"
  DTS:CreatorComputerName="RAM-ON"
  DTS:CreatorName="RAM-ON\Administrator"
  DTS:DTSID="{AD283B00-E640-45D9-A618-B32AF8C6F9A4}"
  DTS:ExecutableType="SSIS.Package.3"
  DTS:LastModifiedProductVersion="11.0.2100.60"
  DTS:LocaleID="1033"
  DTS:ObjectName="DeadLockHandleExample"
  DTS:PackageType="5"
  DTS:VersionBuild="8"
  DTS:VersionGUID="{8FAE3CCF-3705-4877-93C4-CC82E9D25423}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">6</DTS:Property>
  <DTS:Variables />
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Clean Test"
      DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{19E5C7F8-6247-4FE9-91D4-67E7A4AB4EDC}"
      DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
      DTS:LocaleID="-1"
      DTS:ObjectName="Clean Test"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{6DFC41EF-4BF4-4566-B4C6-B5EDFBFCD15E}"
          SQLTask:BypassPrepare="False"
          SQLTask:SqlStatementSource="-- these two stored procedures do not violate unique indexes&#xA;&#xA;DELETE FROM Data.Test WHERE I1=999;&#xA;&#xA;DELETE FROM Data.Test WHERE I1=1001;&#xA;&#xA; &#xA;&#xA;DELETE FROM Data.Test WHERE I2=999001;&#xA;&#xA;DELETE FROM Data.Test WHERE I2=998999;&#xA;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Deadlock SP"
      DTS:CreationName="STOCK:SEQUENCE"
      DTS:Description="Sequence Container"
      DTS:DTSID="{95EDA28E-79BD-4DC9-BE65-5BEC67CD0DE4}"
      DTS:ExecutableType="STOCK:SEQUENCE"
      DTS:LocaleID="-1"
      DTS:ObjectName="Deadlock SP">
      <DTS:Variables />
      <DTS:Executables>
        <DTS:Executable
          DTS:refId="Package\Deadlock SP\Loop Update1"
          DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:Description="Execute SQL Task"
          DTS:DTSID="{96E30CA2-D2A3-47CE-8697-5EB1E0E0C896}"
          DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:LocaleID="-1"
          DTS:ObjectName="Loop Update1"
          DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
          DTS:ThreadHint="0">
          <DTS:Variables />
          <DTS:EventHandlers>
            <DTS:EventHandler
              DTS:refId="Package\Deadlock SP\Loop Update1.EventHandlers[OnError]"
              DTS:CreationName="OnError"
              DTS:DTSID="{7B28B4A9-C464-420B-9BE8-2F9671BCF7B3}"
              DTS:EventID="25"
              DTS:EventName="OnError"
              DTS:LocaleID="-1">
              <DTS:Variables>
                <DTS:Variable
                  DTS:CreationName=""
                  DTS:Description="The propagate property of the event"
                  DTS:DTSID="{64A9981E-F540-441D-9240-3A23F4D621BC}"
                  DTS:IncludeInDebugDump="6789"
                  DTS:Namespace="System"
                  DTS:ObjectName="Propagate">
                  <DTS:VariableValue
                    DTS:DataType="11">-1</DTS:VariableValue>
                </DTS:Variable>
              </DTS:Variables>
              <DTS:Executables />
            </DTS:EventHandler>
          </DTS:EventHandlers>
          <DTS:ObjectData>
            <SQLTask:SqlTaskData
              SQLTask:Connection="{6DFC41EF-4BF4-4566-B4C6-B5EDFBFCD15E}"
              SQLTask:BypassPrepare="False"
              SQLTask:SqlStatementSource="DECLARE @i INT, @j INT;&#xA;&#xA;SET NOCOUNT ON;&#xA;&#xA;SELECT @i=0, @j = 0;&#xA;&#xA;WHILE (@i&lt;100000) BEGIN&#xA;&#xA;  BEGIN TRAN;&#xA;&#xA;  EXEC dbo.UpdateTest1&#xA;&#xA;    @i1 = 1000,&#xA;&#xA;    @addToI2 = 1,&#xA;&#xA;    @addToToggle1 = 1;&#xA;&#xA;  ROLLBACK;&#xA;&#xA;  SET @i = @i + 1;&#xA;&#xA;END;&#xA;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Deadlock SP\Script Task"
          DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ScriptTask.ScriptTask, Microsoft.SqlServer.ScriptTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:Description="Script Task"
          DTS:DTSID="{6C3DC5B5-208D-4D07-B775-9A0D8B611DD3}"
          DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ScriptTask.ScriptTask, Microsoft.SqlServer.ScriptTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:LocaleID="-1"
          DTS:ObjectName="Script Task"
          DTS:ThreadHint="1">
          <DTS:Variables />
          <DTS:ObjectData>
            <ScriptProject
              Name="ST_4bd37fc5c19447b798ac6126626d644b"
              VSTAMajorVersion="3"
              VSTAMinorVersion="0"
              Language="CSharp" />
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Deadlock SP\Script Task 1"
          DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ScriptTask.ScriptTask, Microsoft.SqlServer.ScriptTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:Description="Script Task"
          DTS:DTSID="{CF8C028A-62CC-4477-8947-88457CE65C01}"
          DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ScriptTask.ScriptTask, Microsoft.SqlServer.ScriptTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
          DTS:LocaleID="-1"
          DTS:ObjectName="Script Task 1"
          DTS:ThreadHint="2">
          <DTS:Variables />
          <DTS:ObjectData>
            <ScriptProject
              Name="ST_4bd882e41fb1435486297b225673d92a"
              VSTAMajorVersion="3"
              VSTAMinorVersion="0"
              Language="CSharp" />
          </DTS:ObjectData>
        </DTS:Executable>
        <DTS:Executable
          DTS:refId="Package\Deadlock SP\SelectTest2 - Retry 3"
          DTS:CreationName="STOCK:FORLOOP"
          DTS:Description="For Loop Container"
          DTS:DTSID="{80C5BC62-817D-480C-B64F-3FCD6FF8E581}"
          DTS:EvalExpression=""
          DTS:ExecutableType="STOCK:FORLOOP"
          DTS:LocaleID="-1"
          DTS:MaxConcurrent="1"
          DTS:ObjectName="SelectTest2 - Retry 3">
          <DTS:Variables />
          <DTS:Executables>
            <DTS:Executable
              DTS:refId="Package\Deadlock SP\SelectTest2 - Retry 3\SelectTest2 loop"
              DTS:CreationName="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:Description="Execute SQL Task"
              DTS:DTSID="{8BE6C4B7-0E7C-4A57-B7C5-E02DB208EC8A}"
              DTS:ExecutableType="Microsoft.SqlServer.Dts.Tasks.ExecuteSQLTask.ExecuteSQLTask, Microsoft.SqlServer.SQLTask, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"
              DTS:LocaleID="-1"
              DTS:ObjectName="SelectTest2 loop"
              DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2012; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
              DTS:ThreadHint="1">
              <DTS:Variables />
              <DTS:ObjectData>
                <SQLTask:SqlTaskData
                  SQLTask:Connection="{6DFC41EF-4BF4-4566-B4C6-B5EDFBFCD15E}"
                  SQLTask:BypassPrepare="False"
                  SQLTask:SqlStatementSource="DECLARE @i INT, @j INT, @toggle2 INT;&#xA;SET NOCOUNT ON;&#xA;SELECT @i=0, @j = 0, @toggle2 = 0;&#xA;WHILE (@i&lt;100000) BEGIN&#xA;    EXEC dbo.SelectTest2 @i2 = 999000, @toggle2 = 0&#xA;  SET @i = @i + 1;&#xA;END;&#xA;" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
              </DTS:ObjectData>
            </DTS:Executable>
          </DTS:Executables>
        </DTS:Executable>
      </DTS:Executables>
      <DTS:PrecedenceConstraints>
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Deadlock SP.PrecedenceConstraints[Constraint]"
          DTS:CreationName=""
          DTS:DTSID="{7A57B4D0-A9DC-436E-AEC4-D90FBA3720AA}"
          DTS:From="Package\Deadlock SP\SelectTest2 - Retry 3"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Constraint"
          DTS:To="Package\Deadlock SP\Script Task" />
        <DTS:PrecedenceConstraint
          DTS:refId="Package\Deadlock SP.PrecedenceConstraints[Constraint 1]"
          DTS:CreationName=""
          DTS:DTSID="{6889392C-091D-4ABE-A58F-A39F9CF74B61}"
          DTS:From="Package\Deadlock SP\SelectTest2 - Retry 3"
          DTS:LogicalAnd="True"
          DTS:ObjectName="Constraint 1"
          DTS:To="Package\Deadlock SP\Script Task 1"
          DTS:Value="1" />
      </DTS:PrecedenceConstraints>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint]"
      DTS:CreationName=""
      DTS:DTSID="{F0F222C8-B521-4A07-962B-092DDBAA0DA4}"
      DTS:From="Package\Clean Test"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint"
      DTS:To="Package\Deadlock SP" />
  </DTS:PrecedenceConstraints>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="sql11">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="16" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="130,42"
          Id="Package\Clean Test"
          TopLeft="215,169" />
        <NodeLayout
          Size="146,42"
          Id="Package\Deadlock SP\Loop Update1"
          TopLeft="28,20" />
        <NodeLayout
          Size="157,42"
          Id="Package\Deadlock SP\SelectTest2 - Retry 3\SelectTest2 loop"
          TopLeft="36,9" />
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="205,56"
          Size="205,100"
          Id="Package\Deadlock SP\SelectTest2 - Retry 3"
          TopLeft="251,19" />
        <NodeLayout
          Size="132,42"
          Id="Package\Deadlock SP\Script Task"
          TopLeft="218,156" />
        <EdgeLayout
          Id="Package\Deadlock SP.PrecedenceConstraints[Constraint]"
          TopLeft="320.666666666667,119">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-36.6666666666666,37"
              Start="0,0"
              End="-36.6666666666666,29.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,10.97192642788" />
                  <mssgle:CubicBezierSegment
                    Point1="0,10.97192642788"
                    Point2="0,14.97192642788"
                    Point3="-4,14.97192642788" />
                  <mssgle:LineSegment
                    End="-32.6666666666666,14.97192642788" />
                  <mssgle:CubicBezierSegment
                    Point1="-32.6666666666666,14.97192642788"
                    Point2="-36.6666666666666,14.97192642788"
                    Point3="-36.6666666666666,18.97192642788" />
                  <mssgle:LineSegment
                    End="-36.6666666666666,29.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <NodeLayout
          Size="141,42"
          Id="Package\Deadlock SP\Script Task 1"
          TopLeft="402,179" />
        <EdgeLayout
          Id="Package\Deadlock SP.PrecedenceConstraints[Constraint 1]"
          TopLeft="386.333333333333,119">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="86.1666666666667,60"
              Start="0,0"
              End="86.1666666666667,52.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,20.2787996127783" />
                  <mssgle:CubicBezierSegment
                    Point1="0,20.2787996127783"
                    Point2="0,24.2787996127783"
                    Point3="4,24.2787996127783" />
                  <mssgle:LineSegment
                    End="82.1666666666667,24.2787996127783" />
                  <mssgle:CubicBezierSegment
                    Point1="82.1666666666667,24.2787996127783"
                    Point2="86.1666666666667,24.2787996127783"
                    Point3="86.1666666666667,28.2787996127783" />
                  <mssgle:LineSegment
                    End="86.1666666666667,52.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="28.8419856770833,29.2787996127783,28.4826953125,7.7490234375"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <ContainerLayout
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="548,276"
          Size="548,319"
          Id="Package\Deadlock SP"
          TopLeft="166,249" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint]"
          TopLeft="280,211">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="160,38"
              Start="0,0"
              End="160,30.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,15" />
                  <mssgle:CubicBezierSegment
                    Point1="0,15"
                    Point2="0,19"
                    Point3="4,19" />
                  <mssgle:LineSegment
                    End="156,19" />
                  <mssgle:CubicBezierSegment
                    Point1="156,19"
                    Point2="160,19"
                    Point3="160,23" />
                  <mssgle:LineSegment
                    End="160,30.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </Package>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>